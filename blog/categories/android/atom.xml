<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: android | 99 Cruster]]></title>
  <link href="http://binerdd.github.io/blog/categories/android/atom.xml" rel="self"/>
  <link href="http://binerdd.github.io/"/>
  <updated>2015-09-22T22:35:33+09:00</updated>
  <id>http://binerdd.github.io/</id>
  <author>
    <name><![CDATA[binerdd]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Overview of Attack Surfaces in Android Apps]]></title>
    <link href="http://binerdd.github.io/blog/2015/08/11/what-is-an-android-service/"/>
    <updated>2015-08-11T21:35:46+09:00</updated>
    <id>http://binerdd.github.io/blog/2015/08/11/what-is-an-android-service</id>
    <content type="html"><![CDATA[<p>When auditing the security of Android apps, it is crucial to enumerate attack surfaces available. There are 3 main attack surfaces available in an Android app: Service, Broadcast Receiver, Content Provider.</p>

<h1>Android Service</h1>

<p>According to <a href="http://developer.android.com/reference/android/app/Service.html">Google</a>, a service is an application component representing either an application&rsquo;s desire to perform a longer-running operation while not interacting with the user or to supply functionality for other applications to use. So it can be thought as background process without an graphical interface.</p>

<p>Service can be either started or bound. When a service is started, it</p>

<p>When auditing, one can check which services are available by searching for <code>&lt;service&gt;</code> element tag in <code>AndroidManifest.xml</code> file. There can be many or none, but it is important to distinguish which service is actually reachable from outside the app.</p>

<h2>Finding out which services are reachable</h2>

<p>Example of a service is as follows:</p>

<p><div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;service</span> <span class="na">android:exported=</span><span class="s">&quot;false&quot;</span> <span class="na">android:name=</span><span class="s">&quot;.FotaRegisterService&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;intent-filter&gt;</span>
        <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">&quot;com.sec.android.fotaclient&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/intent-filter&gt;</span>
<span class="nt">&lt;/service&gt;</span></code></pre></div></p>

<p>As you can see, services have attributes that need to be considered before digging deep in to the code. Certain attributes make services not interactable. For a complete reference, checkout <a href="http://developer.android.com/guide/topics/manifest/service-element.html">android API guide</a>.</p>

<h4>android:exported</h4>

<p>This attribute defines whether this service is exported outside so that components of other apps can interact with it. If this attribute is set to <code>False</code>, there is no need to investigate further. Default value is <code>True</code>.</p>

<h4>android:enabled</h4>

<p>Although not shown in previous examples, if this value set to false then this service cannot be instantiated, meaning it cannot be run. Default value is <code>True</code>.</p>

<h4>android:permission</h4>

<p>This attribute sets name of the permission an entitiy must have in order to lauch or bind with the service. If this options is not set, service inherits permission set by <code>&lt;application&gt;</code> element. Therefore if we don&rsquo;t have the specified permission, we cannot interact with the service.</p>

<h4>android:name</h4>

<p>This is the name of the <code>Service</code> subclass that implements the service. When a service is reachable from outside and it is worth looking at closely, value of <code>android:name</code> must be searched inside the decompiled code.</p>

<h1>Broadcast Receivers</h1>

<p>Broadcast Receivers receive intents that are broadcasted by the system or other apps. Broadcast Receivers can be statically declared in the <code>AndroidManifest.xml</code> or dynamically in the code by <code>Context.registerReceiver()</code> method. Because it processes external data(which is intent), it is an another attack surface that should be looked closely. Difference between starting a service is that intent has a specific target(service) wheras broadcast does not have a specific destination and it is up to the broadcast receiver to process it or not.</p>

<h2>Finding out which broascast receivers are reachable</h2>

<p>Unfortunately, it is same for broadcast receivers that attributes must be looked at closely in order to distinguish receivers that is reachable from the outside. For a full reference of the attributes, refer to the <a href="http://developer.android.com/guide/topics/manifest/receiver-element.html">android API guide</a>.</p>

<h4>android:exported</h4>

<p>This attribute defines whether the broadcast receiver can receive broadcast from outside of the application. Set to <code>True</code> if it can, <code>False</code> if not.</p>

<h1>Content Providers</h1>

<h1>Reference</h1>

<p><a href="http://translate.wooyun.io/2015/08/05/Android-Service-Security.html">http://translate.wooyun.io/2015/08/05/Android-Service-Security.html</a>
<a href="http://translate.wooyun.io/2015/07/22/Android-Broadcast-Security.html">http://translate.wooyun.io/2015/07/22/Android-Broadcast-Security.html</a></p>
]]></content>
  </entry>
  
</feed>
